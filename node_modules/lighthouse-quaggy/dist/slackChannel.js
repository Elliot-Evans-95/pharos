#!/usr/bin/env node
"use strict";function getData(e,t){var r=findFileForWebHook(".slackChannel",function(e){return e.toString()});buildMessage(useLighthouseSites(e),useOutputFileName(t),useWebHook(r))}function findFileForWebHook(e){return fs.readFileSync(e)}function buildMessage(e,t,r){var n=(new Date).toLocaleString();sendSlack(r,JSON.stringify({text:"Date & Time: "+n+" \n URL: "+e+" \n Result: "+t}))}function sendSlack(e,t){var r=new XMLHttpRequest;r.open("POST",e,!0),r.setRequestHeader("Content-Type","application/json"),r.send(t)}function useLighthouseSites(e){return parameterErrorHandler(e,"sites"),e}function useOutputFileName(e){return parameterErrorHandler(e,"output file"),e}function useWebHook(e){return parameterErrorHandler(e,"webhook"),e}function parameterErrorHandler(e,t){void 0!==e&&null!==e||process.exit(1)}var fs=require("fs"),XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest;module.exports=getData;